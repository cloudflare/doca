{
  "id": "/v1/safewire",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "SafeWire",
  "description": "Safewire's Orders",
  "type": "object",
  "definitions": {
    "identifier": {
      "type": "integer",
      "description": "The identifier of an order",
      "example": "xaleg34"
    }
  },
  "properties": {
    "id": {
      "$ref": "#/definitions/identifier"
    },
    "order": {
      "$ref": "./order.json"
    },
    "profile": {
      "$ref": "./profile.json"
    },
    "wire_instruction": {
      "$ref": "./wire_instruction.json"
    },
    "property": {
      "$ref": "./property.json"
    }
  },
  "links": [
    {
      "title": "Add An Order",
      "description": "Add an order through SafeWire",
      "rel": "self",
      "href": "/v1/safewire",
      "method": "POST",
      "authentication_needed": true,
      "required": ["order", "profile"],
      "schema": {
        "type": "object",
        "properties": {
          "order": {
            "$ref": "./order.json"
          },
          "property": {
            "$ref": "./property.json"
          },
          "profile": {
            "$ref": "./profile.json"
          },
          "wire_instruction": {
            "$ref": "./wire_instruction.json"
          }
        }
      },
      "targetSchema": {
        "type": "object",
        "properties": {
          "order": {
            "type": "object",
            "properties": {
              "id": {
                "$ref": "#/definitions/identifier"
              }
            }
          }
        }
      }
    },
    {
      "title": "Order Info",
      "description": "Retrieve info for a specific order",
      "rel": "self",
      "href": "/v1/safewire/{#/definitions/identifier}",
      "method": "GET",
      "authentication_needed": "yes",
      "targetSchema": {
        "type": "object",
        "properties": {
          "order": {
            "type": "object",
            "properties": {
              "agency_order_id": {
                "type": "string",
                "description": "agency order id",
                "example": "asd123"
              },
              "closing": {
                "type": "date",
                "description": "Closing date",
                "example": "01-01-2018"
              },
              "closing": {
                "type": "date",
                "description": "Closing date",
                "example": "01-01-2018"
              },
              "type": {
                "type": "string",
                "description": "type of order",
                "example": "Purchase"
              },
              "notes": {
                "type": "string",
                "description": "Notes form the order",
                "example": "01-01-2018"
              },
              "zip": {
                "type": "string",
                "description": "ZIP",
                "example": "21312"
              }
            }
          }
        }
      }
    }
  ]
}
